<!DOCTYPE html>
<!-- Created By Code4Education -->
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>Laptopia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/index.css">
  <link rel="stylesheet" href="../css/item.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="../javascript/navbar.js"></script>
  <script src="../javascript/index.js"></script>
  <script src="https://kit.fontawesome.com/af7a93ff0b.js" crossorigin="anonymous"></script>
</head>
<body>
  <nav class="navbar">
    <div class="menu-icon">
      <i class="fa fa-bars"></i>
    </div>
    <div class="logo"><a class="logo" href="index.html"><img id="imgLogo" src="../ImgSrc/laptopialogo3.png" alt="Laptopia Logo"></img></a></div>
    <div class="nav-items">
      <ul> 
        <li><a href="index.html">Home</a></li>
        <li><a href="product.html">Product</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="basket.html">Basket</a></li>
        <li><a href="loginsignup.php" id="logSign"  aria-hidden="true">login/sign up</a></li>
      </ul>
    </div>
    
    <div class="search-icon">
      <i class="fa fa-search"></i>
    </div>
    <div class="cancel-icon">
      <i class="fa fa-times"></i>
    </div>
    <form action="#">
      <input type="search" class="search-data" placeholder="Search" required>
      <button type="submit" class="fa fa-search"></button>
    </form>
  </nav>

  <div class="header">
    <h3 id="product_title"> Name</h3>
      <!-- Star ratings -->
      <span class="fa fa-star"></span>
      <span class="fa fa-star"></span>
      <span class="fa fa-star"></span>
      <span class="fa fa-star"></span>
      <span class="fa fa-star"></span>
    </div>
  </div>
  
  <div class="row">
    <div class="column smallside" style="background-color: rgb(15, 14, 26)"></div>
    <div class="column middle" style="background-color: rgb(54, 54, 54)">
      <div class="product_image">
        <img id="productImage" src="https://noteb.com/res/img/models/3339_1.jpg">
          <div class="row selectimages">
            <div class="column side"><img src="https://noteb.com/res/img/models/3339_1.jpg" onclick="document.querySelector('#productImage').src='https://noteb.com/res/img/models/3339_1.jpg'"></div>
            <div class="column side"><img src="https://noteb.com/res/img/models/3339_2.jpg" onclick="document.querySelector('#productImage').src='https://noteb.com/res/img/models/3339_2.jpg'"></div>
            <div class="column side"><img src="https://noteb.com/res/img/models/3339_3.jpg" onclick="document.querySelector('#productImage').src='https://noteb.com/res/img/models/3339_3.jpg'"></div>
            <div class="column side"><img src="https://noteb.com/res/img/models/3339_2.jpg" onclick="document.querySelector('#productImage').src='https://noteb.com/res/img/models/3339_2.jpg'"></div>
          </div>
        </div>
      </div>
    <div class="column large" style="background-color: rgb(27, 27, 27)">
      <div class="details-sidebar">
        <p id="stock">IN STOCK (Stock)</p>
        <p id="price">Â£Price</p>
        <!-- Laptop specifications -->
        <ul id="specs">
            <li> OS </li>
            <li> CPU </li>
            <li> RAM </li>
            <li> Storage </li>
            <li> GraphicsCard </li>
            <li> Dimentions </li>
        </ul>
        <button type="button" id="basketBtn">ADD TO BASKET</button>
      </div>
    </div>
    <div class="column smallside""></div>
  </div>
  <div class="row">
    <!-- product description -->
    <div class="column smallside" ></div>
    <div class="column middle" id="descAndReviews">
      <div class="description">
        <p>Description</p>
      </div>
      <div class="description" id="lareview">
        <br>
        <p>Leave a Review?</p>
        <span id="star1" class="rating__star fa fa-star"></span>
        <span id="star2" class="rating__star fa fa-star"></span>
        <span id="star3" class="rating__star fa fa-star"></span>
        <span id="star4" class="rating__star fa fa-star"></span>
        <span id="star5" class="rating__star fa fa-star"></span>
        <span id="users-product-rating" style="display: none;">0</span>
        <br><br><textarea id="reviewText" style="width: -webkit-fill-available;height: 120px;"></textarea>
      </div>
      <div class="description" id="reviews" style="display:none;">
        <br>
        <p>Reviews</p>
      </div>
    </div>
    <div class="column smallside"></div>
  </div>
  <div class="footer">
    <p style="height:100%"></p>
  </div>
  <script>
  function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i <ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
    }

    function setCookie(cname, cvalue, exdays) {
        const d = new Date();
        d.setTime(d.getTime() + (exdays*24*60*60*1000));
        let expires = "expires="+ d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }
    
    if(getCookie("basket")==""){setCookie("basket","[{}]",1)}
    
    function addComma(){
        if(getCookie("basket")!="[{}]"){setCookie("basket",getCookie('basket').substring(0,getCookie('basket').length-1)+",{}]",1)}
    }

    const ratingStars = [...document.getElementsByClassName("rating__star")];
    const overallRating = document.querySelector('#users-product-rating');

    function executeRating(stars) {
      const starClassActive = "rating__star fa fa-star checked";
      const starClassInactive = "rating__star fa fa-star";
      const starsLength = stars.length;
      let i;
      stars.map((star) => {
        star.onclick = () => {
          i = stars.indexOf(star);
          let x;

          if (star.className===starClassInactive) {
            x = 0;
            for (i; i >= 0; --i) {stars[i].className = starClassActive;x=x+20;}
          } else {
            x = 100;
            for (i; i < starsLength; ++i) {stars[i].className = starClassInactive;x=x-20;}
          }
          overallRating.textContent=x;
        };
      });
    }
    executeRating(ratingStars);
     </script>
</body>
</html>